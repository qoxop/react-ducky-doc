"use strict";(self.webpackChunkreact_ducky_doc=self.webpackChunkreact_ducky_doc||[]).push([[801],{4801:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var o,i=n(1589),r=n(6039);o||(o={});var a=(0,r.NY)({name:"todo",initialState:{todos:[],filter:"all"},reducers:{addTodo:function(e,t){var n=t.payload;e.todos.push(n)},toggleTodo:function(e,t){var n=t.payload,o=e.todos.find((function(e){return e.id===n}));o&&(o.finished=!o.finished)},delTodo:function(e,t){var n=t.payload;e.todos=e.todos.filter((function(e){return e.id!==n}))},setFilter:function(e,t){e.filter=t.payload}},persistence:"session"}),c=a.actions,d=a.reducer,u=(a.getState,a.useModel),l=a.name,s=n(7294),f=n(5068),m=n(9569),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).filterTodos=function(e,t){switch(t){case"finished":return e.filter((function(e){return e.finished}));case"unfinished":return e.filter((function(e){return!e.finished}));default:return e}},n.actions=(0,m.bindActionCreators)(c,n.dispatch),n}return(0,f.Z)(t,e),t.prototype.useHooks=function(){var e=this,t=u(),n=t.filter,o=t.todos,i=(0,s.useMemo)((function(){return e.filterTodos(o,n)}),[o,n]);return{filter:n,todos:i}},t}(r.pc);function p(e){return s.createElement("div",{className:"todo"},s.createElement("div",{className:"checkbox"},s.createElement("input",{type:"checkbox",checked:e.todo.finished,onChange:function(){return e.onToggle(e.todo.id)},name:e.todo.text,id:e.todo.id})),s.createElement("div",{className:"todo-text "+(e.todo.finished?"finished":"")},s.createElement("span",null,e.todo.text)),s.createElement("div",{className:"todo-del",onClick:function(){return e.onDelete(e.todo.id)}},"x"))}function E(e){var t=(0,s.useState)(""),n=t[0],o=t[1];return s.createElement("div",{className:"add-todo"},s.createElement("input",{type:"text",value:n,onChange:function(e){return o(e.target.value)}}),s.createElement("button",{disabled:!n,onClick:function(){n&&(e.onSave({id:""+Date.now(),finished:!1,text:n}),o(""))}},"\u4fdd\u5b58"))}function v(e){return s.createElement("div",{className:"filter"},s.createElement("span",null,"Filter:"),s.createElement("span",{className:"all"===e.type?"active":"",onClick:function(){return e.onChange("all")}},"all")," |",s.createElement("span",{className:"unfinished"===e.type?"active":"",onClick:function(){return e.onChange("unfinished")}},"unfinished")," |",s.createElement("span",{className:"finished"===e.type?"active":"",onClick:function(){return e.onChange("finished")}},"finished"))}(0,i.e)({key:l,reducer:d});var k=function(){var e=(0,r.kO)(h),t=e[0],n=e[1],o=n.todos,i=n.filter,a=t.actions;return s.createElement("div",{className:"todo-module"},s.createElement(E,{onSave:t.actions.addTodo}),s.createElement(v,{type:i,onChange:a.setFilter}),s.createElement("div",null,o.map((function(e){return s.createElement(p,{key:e.id,todo:e,onToggle:a.toggleTodo,onDelete:a.delTodo})}))))}},1589:function(e,t,n){n.d(t,{h:function(){return c},e:function(){return d}});var o=n(9569),i=n(6039),r="object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.compose,a={},c=(0,o.createStore)((function(e){return e}),r((0,o.applyMiddleware)(i.w4))),d=function(e){(e=e instanceof Array?e:[e]).forEach((function(e){var t=e.key,n=e.reducer;a[t]||(!0,a[t]=n)})),c.replaceReducer((0,o.combineReducers)(a))}}}]);